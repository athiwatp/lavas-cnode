webpackJsonp([4],{578:function(t,e,n){function o(t){n(743)}var i=n(6)(n(745),n(748),o,null,null);t.exports=i.exports},743:function(t,e,n){var o=n(744);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(574)("af4b36d4",o,!0)},744:function(t,e,n){e=t.exports=n(573)(!0),e.push([t.i,".login{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.login-input-ak{width:80%}","",{version:3,sources:["/Users/Vanishment/Documents/Work/FrontEnd/Projects/Vue.js/lavas-cnode/src/pages/Login.vue"],names:[],mappings:"AACA,OACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,gBACE,SAAW,CACZ",file:"Login.vue",sourcesContent:["\n.login {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.login-input-ak {\n  width: 80%;\n}"],sourceRoot:""}])},745:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(746),a=o(i),s=n(65),r=o(s),c=n(66),l=n(126),u=o(l);e.default={name:"login",comments:{},data:function(){return{ak:"",alert:!1}},mounted:function(){"/login"==this.$route.path&&Qrcode.init($("[node-type=qr-btn]")),$(".tmp").bind("click",function(){u.default.$emit("input-ak-through-qrcode",$(this).val())})},methods:(0,r.default)({},(0,c.mapActions)("appShell/appHeader",["setAppHeader"]),(0,c.mapMutations)("userInfo/",["login"]),{login:function(){var t=this;if(36!==this.ak.length)return void alert("请输入正确的accesstoken！");this.$http.post("https://cnodejs.org/api/v1/accesstoken",{accesstoken:this.ak}).then(function(e){t.alert=!t.alert,t.$store.commit("login"),localStorage.UserInfo=(0,a.default)({id:e.data.id,AccessToken:t.ak,UserName:e.data.loginname,AvatarURL:e.data.avatar_url}),t.$router.go(-1),t.ak=""}).catch(function(e){alert(e),t.$router.go(-1)})}}),activated:function(){var t=this;u.default.$on("input-ak-through-qrcode",function(e){t.ak=e}),this.setAppHeader({show:!0,title:"请登录",showMenu:!1,showBack:!0,showLogo:!1,actions:[{icon:"aspect_ratio",act:function(t){$(".qr-btn").click()}}]})}}},746:function(t,e,n){t.exports={default:n(747),__esModule:!0}},747:function(t,e,n){var o=n(34),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},748:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-input-ak"},[n("v-text-field",{attrs:{label:"AccessToken,也可以扫描二维码↗",counter:36,required:""},model:{value:t.ak,callback:function(e){t.ak=e},expression:"ak"}}),t._v(" "),n("v-btn",{attrs:{block:"",secondary:"",dark:""},nativeOn:{click:function(e){t.login(e)}}},[t._v("登录")])],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=4.3a0cb6b68f103cd5cc8c.js.map